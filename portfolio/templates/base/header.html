{% load static %}
<header>
    <nav class="nav">
        <a class="nav-link" href="{% url "catalog:artist_list" %}">Artists</a>
        <a class="nav-link" href="{% url "catalog:index" %}">Artworks</a>
        <a class="nav-link" href="#">Events</a>
        <a class="nav-link" href="#">Projects</a>
        <a class="nav-link" href="{% url "catalog:tag_list" %}">Tags</a>
        {% if user.is_authenticated %}
            <a class="nav-link" href="{% url "catalog:artist_create" %}">Add artist</a>
            <a class="nav-link" href="{% url "catalog:artwork_upload" %}">Upload artwork</a>
            <a class="nav-link" href="{% url "catalog:tag_create" %}">Create tag</a>
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Store</a>
        {% endif %}
        {% if user.is_staff %}
            <a class="nav-link" href="{% url 'admin:index' %}">Site administration</a>
        {% endif %}
        <a class="nav-link" href="{% url "catalog:tag_list" %}">Contact</a>
    </nav>
    <div class="row flex-nowrap justify-content-between align-items-center">
        <div class="col-12 d-flex justify-content-end align-items-center">
            <div class="p-2">
                <form action="{% url "catalog:search_results" %}" method="get" class="search">
                    <input type="search" name="q" placeholder="Search phrase" class="input" />
                    <button type="submit" class="btn btn-sm btn-outline-secondary">Search</button>
                </form>
            </div>
            {% if user.is_authenticated %}
                <div class="p-2">
                    <a href="{% url "users:profile" %}">
                    {% if user.profile.avatar %}
                        <img src="{{ user.profile.avatar_thumbnail.url }}"
                        alt= {{ user.username|default:"UserName" }}/>
                    {% else %}
                        <img src="{% static "catalog/img/default_avatar_thumbnail.jpg" %}" 
                        alt= {{ user.username|default:"UserName" }}/>
                    {% endif %}
                    </a>
                </div>
                <div class="p-2">
                    <form id="logout-form" method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn btn-secondary">Logout</button>
                    </form>
                </div>
            {% else %}
                <div class="p-2">
                    <a class="btn_auth btn btn-sm btn-outline-secondary"
                        href="{% url 'login' %}">
                        Login
                    </a>
                    <a class="btn_auth btn btn-sm btn-outline-secondary"
                        href="{% url "users:signup" %}">
                        Signup
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
</header>